# Environment Variables Template for Google Slides Formatter
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control - it contains secrets!

# =============================================================================
# Google Workspace API Configuration
# =============================================================================

# Google API Key for Custom Search (used by MCP server)
# Get this from: https://console.cloud.google.com/apis/credentials
# Required APIs: Custom Search API
GOOGLE_API_KEY=your_google_api_key_here

# Google Custom Search Engine ID for Google Workspace documentation
# This should be: 701ecba480bf443fa (predefined for Google Workspace docs)
# Or create your own at: https://programmablesearchengine.google.com/
GOOGLE_SEARCH_ENGINE_ID=701ecba480bf443fa

# =============================================================================
# Google Cloud Project Configuration  
# =============================================================================

# Your Google Cloud Project ID (for reference and documentation)
GOOGLE_CLOUD_PROJECT_ID=your-project-id

# Google Cloud Project Number (numeric ID)
GOOGLE_CLOUD_PROJECT_NUMBER=your-project-number

# =============================================================================
# Apps Script Deployment Configuration
# =============================================================================

# Deployment API Key (Apps Script + Drive + Slides + Sheets APIs)
# Get from: https://console.cloud.google.com/apis/credentials
# Required APIs: Apps Script API, Google Drive API, Google Slides API, Google Sheets API
# Separate from GOOGLE_API_KEY (development) for security isolation
DEPLOYMENT_API_KEY=your_deployment_api_key_here

# OAuth 2.0 Client Configuration
# credentials.json file should be placed in project root
# Get from: https://console.cloud.google.com/apis/credentials
# Type: Web Application (not Desktop)
# Add redirect URI: http://localhost:3000/oauth/callback
#
# Authentication uses itv-auth CLI (from itv-google-auth library):
#   npm run auth         # Auto mode (opens browser)
#   npm run auth:manual  # Manual mode (for SSH/remote)
#
# token.json is auto-generated and includes embedded client_id/secret
OAUTH_CLIENT_TYPE=web

# Apps Script Project ID (successfully deployed)
# Current project: https://script.google.com/d/1I2dUX4hBHie4JvxELe5Mog8PxHXRWLUDACYzw94NqMrQr-YGawsNsouu/edit
APPS_SCRIPT_PROJECT_ID=1I2dUX4hBHie4JvxELe5Mog8PxHXRWLUDACYzw94NqMrQr-YGawsNsouu

# =============================================================================
# Development and Testing Configuration
# =============================================================================

# Environment designation (development, staging, production)
NODE_ENV=development

# Enable debug logging for troubleshooting
DEBUG_MODE=false

# Test presentation ID for font swapping validation
TEST_PRESENTATION_ID=1_WxqIvBQ2ArGjUqamVhVYKdAie5YrEgXmmUFMgNNpPA

# =============================================================================
# Security and Compliance
# =============================================================================

# API request timeout in milliseconds
API_TIMEOUT=30000

# Maximum retries for failed API requests
MAX_API_RETRIES=3

# Rate limiting - requests per minute
RATE_LIMIT_RPM=60

# =============================================================================
# Instructions for Setup
# =============================================================================

# 1. Copy this file: cp .env.template .env
# 2. Fill in your actual API keys and project details:
#    - DEPLOYMENT_API_KEY: Deployment key (Apps Script + Drive + Slides + Sheets APIs)
#    - GOOGLE_API_KEY: Development key (optional, for MCP server)
# 3. Place credentials.json (OAuth web client) in project root
# 4. Install itv-auth CLI: pipx install ~/Repos/itv-google-auth
# 5. Enable Apps Script API at user level: https://script.google.com/home/usersettings
# 6. Never commit .env, credentials.json, or token.json to version control
# 7. Authenticate: npm run auth
# 8. Test your configuration: npm run deploy

# CRITICAL DEPLOYMENT REQUIREMENTS:
# - DEPLOYMENT_API_KEY must have Drive, Slides, Sheets, Apps Script APIs enabled
# - Apps Script API must be enabled at Google Cloud project level AND user level
# - itv-auth creates token.json with embedded client credentials
# - Node.js scripts only read token.json (not credentials.json)

# =============================================================================
# File Locations (for reference)
# =============================================================================

# OAuth Credentials: ./credentials.json (user-provided, needed by itv-auth)
# OAuth Tokens: ./token.json (auto-generated by itv-auth, never commit)
# Claude Config: ./.claude/ (local settings, never commit)
# MCP Config: Uses GOOGLE_API_KEY (development) from this file
# Deployment Config: Uses DEPLOYMENT_API_KEY from this file

# TOKEN LIFECYCLE:
# - token.json created by itv-auth CLI (npm run auth)
# - Contains access_token, refresh_token, AND client_id/client_secret
# - Node.js scripts read token.json directly (no credentials.json needed)
# - Scripts auto-refresh expired access tokens and save updates
# - Refresh token valid ~6 months to 1 year

# =============================================================================
# CI/CD Integration
# =============================================================================

# For CI/CD pipelines, copy token.json to the environment or use a service account.
# The token.json file contains all necessary credentials (access_token, refresh_token,
# client_id, client_secret) and is self-contained.
#
# Alternatively, consider using Google Cloud service accounts for automated deployments.